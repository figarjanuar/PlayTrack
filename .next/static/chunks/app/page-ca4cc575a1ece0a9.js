(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{7086:function(e,t,r){Promise.resolve().then(r.bind(r,2124))},2124:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return p}});var n=r(7437),s=r(2265),a=r(6070);function i(e){let{label:t,value:r}=e;return(0,n.jsxs)(a.Zb,{children:[(0,n.jsx)(a.Ol,{children:(0,n.jsx)(a.ll,{children:t})}),(0,n.jsx)(a.aY,{children:(0,n.jsx)("p",{className:"text-2xl font-bold",children:r})})]})}var o=r(2869),l=r(5256),c=r(9205);let d=(0,c.Z)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),u=(0,c.Z)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);var f=r(4508);function h(e){let{value:t}=e,[r,i]=(0,s.useState)(!0);return(0,n.jsxs)(a.Zb,{children:[(0,n.jsxs)(a.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,n.jsx)(a.ll,{className:"text-sm font-medium",children:"Pendapatan Bulan Ini"}),(0,n.jsx)("button",{onClick:()=>i(e=>!e),children:r?(0,n.jsx)(d,{className:"w-4 h-4"}):(0,n.jsx)(u,{className:"w-4 h-4"})})]}),(0,n.jsx)(a.aY,{children:(0,n.jsx)("div",{className:"text-2xl font-bold",children:r?(0,f.b)(t):"**********"})})]})}function p(){let{get:e}=(0,l.h)(),[t,r]=(0,s.useState)(0),[a,c]=(0,s.useState)(0),[d,u]=(0,s.useState)(0),[f,p]=(0,s.useState)(!1),m=async()=>{p(!0);try{let t=await e("/api/tv"),n=await e("/api/reports?month="+new Date().toISOString().slice(0,7));r(t.tvs.length),c(t.tvs.filter(e=>"Idle"===e.status).length),u(n.totalFee)}finally{p(!1)}};return(0,s.useEffect)(()=>{m()},[]),(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center",children:[(0,n.jsx)("h2",{className:"text-xl font-bold",children:"Dashboard"}),(0,n.jsx)(o.z,{onClick:m,disabled:f,children:f?"Loading...":"Refresh"})]}),(0,n.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[(0,n.jsx)(i,{label:"Total PS",value:t}),(0,n.jsx)(i,{label:"Idle PS",value:a}),(0,n.jsx)(h,{value:d})]})]})}},2869:function(e,t,r){"use strict";r.d(t,{d:function(){return l},z:function(){return c}});var n=r(7437),s=r(2265),a=r(7053),i=r(535),o=r(4508);let l=(0,i.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),c=s.forwardRef((e,t)=>{let{className:r,variant:s,size:i,asChild:c=!1,...d}=e,u=c?a.g7:"button";return(0,n.jsx)(u,{className:(0,o.cn)(l({variant:s,size:i,className:r})),ref:t,...d})});c.displayName="Button"},6070:function(e,t,r){"use strict";r.d(t,{Ol:function(){return o},SZ:function(){return c},Zb:function(){return i},aY:function(){return d},ll:function(){return l}});var n=r(7437),s=r(2265),a=r(4508);let i=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,a.cn)("rounded-xl border bg-card text-card-foreground shadow",r),...s})});i.displayName="Card";let o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",r),...s})});o.displayName="CardHeader";let l=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,a.cn)("font-semibold leading-none tracking-tight",r),...s})});l.displayName="CardTitle";let c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,a.cn)("text-sm text-muted-foreground",r),...s})});c.displayName="CardDescription";let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,a.cn)("p-6 pt-0",r),...s})});d.displayName="CardContent",s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,a.cn)("flex items-center p-6 pt-0",r),...s})}).displayName="CardFooter"},5153:function(e,t,r){"use strict";r.d(t,{pm:function(){return f}});var n=r(2265);let s=0,a=new Map,i=e=>{if(a.has(e))return;let t=setTimeout(()=>{a.delete(e),d({type:"REMOVE_TOAST",toastId:e})},1e6);a.set(e,t)},o=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:r}=t;return r?i(r):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},l=[],c={toasts:[]};function d(e){c=o(c,e),l.forEach(e=>{e(c)})}function u(e){let{...t}=e,r=(s=(s+1)%Number.MAX_SAFE_INTEGER).toString(),n=()=>d({type:"DISMISS_TOAST",toastId:r});return d({type:"ADD_TOAST",toast:{...t,id:r,open:!0,onOpenChange:e=>{e||n()}}}),{id:r,dismiss:n,update:e=>d({type:"UPDATE_TOAST",toast:{...e,id:r}})}}function f(){let[e,t]=n.useState(c);return n.useEffect(()=>(l.push(t),()=>{let e=l.indexOf(t);e>-1&&l.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>d({type:"DISMISS_TOAST",toastId:e})}}},5256:function(e,t,r){"use strict";r.d(t,{h:function(){return s}});var n=r(5153);function s(){let{toast:e}=(0,n.pm)();async function t(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",n=arguments.length>2?arguments[2]:void 0;try{let e=await fetch(t,{method:r,headers:{"Content-Type":"application/json"},body:n?JSON.stringify(n):void 0});if(!e.ok){let t=await e.json();throw Error(t.message||"Request failed")}if(204===e.status)return null;return await e.json()}catch(t){throw e({variant:"destructive",title:"Error",description:t instanceof Error?t.message:"Something went wrong."}),t}}return{get:e=>t(e,"GET"),post:(e,r)=>t(e,"POST",r),patch:(e,r)=>t(e,"PATCH",r),put:(e,r)=>t(e,"PUT",r),del:e=>t(e,"DELETE")}}},4508:function(e,t,r){"use strict";r.d(t,{b:function(){return i},cn:function(){return a}});var n=r(1994),s=r(3335);function a(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.m6)((0,n.W)(t))}function i(e){return new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(e)}}},function(e){e.O(0,[203,971,117,744],function(){return e(e.s=7086)}),_N_E=e.O()}]);