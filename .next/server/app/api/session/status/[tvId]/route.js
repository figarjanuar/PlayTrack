"use strict";(()=>{var e={};e.id=183,e.ids=[183],e.modules={1185:e=>{e.exports=require("mongoose")},399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},3181:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>g,patchFetch:()=>f,requestAsyncStorage:()=>l,routeModule:()=>c,serverHooks:()=>v,staticGenerationAsyncStorage:()=>m});var s={};r.r(s),r.d(s,{GET:()=>p});var o=r(9303),n=r(8716),a=r(670),i=r(2021),u=r(2880),d=r(7070);async function p(e,{params:t}){await (0,i.u)();let r=await u.TV.findById(t.tvId).populate("currentSessionId");return r?d.NextResponse.json(r):d.NextResponse.json({message:"TV not found"},{status:404})}let c=new o.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/session/status/[tvId]/route",pathname:"/api/session/status/[tvId]",filename:"route",bundlePath:"app/api/session/status/[tvId]/route"},resolvedPagePath:"/Users/figar_jr/project/android-tv-timer/app/api/session/status/[tvId]/route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:l,staticGenerationAsyncStorage:m,serverHooks:v}=c,g="/api/session/status/[tvId]/route";function f(){return(0,a.patchFetch)({serverHooks:v,staticGenerationAsyncStorage:m})}},2021:(e,t,r)=>{r.d(t,{u:()=>a});var s=r(1185),o=r.n(s);let n=!1;async function a(){if(!n)try{await o().connect(process.env.MONGODB_URI||"mongodb://localhost:27017/tv_timer_prod"),n=!0,console.log("MongoDB connected")}catch(e){throw console.error("MongoDB connection error:",e),e}}},2880:(e,t,r)=>{r.d(t,{TV:()=>a});var s=r(1185),o=r.n(s);let n=new s.Schema({name:{type:String,required:!0},ipAddress:{type:String,required:!0},offlineCount:{type:Number,default:0},status:{type:String,enum:["Idle","Active","Offline","Ended"],default:"Idle"},currentSessionId:{type:o().Schema.Types.ObjectId,ref:"Session"},psType:{type:String,required:!0}},{timestamps:!0}),a=o().models.TV||o().model("TV",n)}};var t=require("../../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[948,972],()=>r(3181));module.exports=s})();