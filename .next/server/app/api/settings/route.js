"use strict";(()=>{var e={};e.id=668,e.ids=[668],e.modules={1185:e=>{e.exports=require("mongoose")},399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},2421:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>h,patchFetch:()=>f,requestAsyncStorage:()=>m,routeModule:()=>l,serverHooks:()=>y,staticGenerationAsyncStorage:()=>g});var n={};r.r(n),r.d(n,{GET:()=>d,POST:()=>c});var s=r(9303),o=r(8716),i=r(670),a=r(2021),p=r(4385),u=r(7070);async function d(){await (0,a.u)();let e=await p.p.findOne();return u.NextResponse.json(e||{})}async function c(e){await (0,a.u)();let t=await e.json();if(!t.psTypes)return new Response("Missing psTypes",{status:400});console.log("body",JSON.stringify(t));let r=await p.p.findOneAndUpdate({},{psTypes:t.psTypes},{upsert:!0,new:!0});return Response.json(r)}let l=new s.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/settings/route",pathname:"/api/settings",filename:"route",bundlePath:"app/api/settings/route"},resolvedPagePath:"/Users/figar_jr/project/android-tv-timer/app/api/settings/route.ts",nextConfigOutput:"",userland:n}),{requestAsyncStorage:m,staticGenerationAsyncStorage:g,serverHooks:y}=l,h="/api/settings/route";function f(){return(0,i.patchFetch)({serverHooks:y,staticGenerationAsyncStorage:g})}},2021:(e,t,r)=>{r.d(t,{u:()=>i});var n=r(1185),s=r.n(n);let o=!1;async function i(){if(!o)try{await s().connect(process.env.MONGODB_URI||"mongodb://localhost:27017/tv_timer_prod"),o=!0,console.log("MongoDB connected")}catch(e){throw console.error("MongoDB connection error:",e),e}}},4385:(e,t,r)=>{r.d(t,{p:()=>a});var n=r(1185),s=r.n(n);let o=new n.Schema({durationHours:{type:Number,required:!0},price:{type:Number,required:!0}},{_id:!1});new n.Schema({name:{type:String,required:!0},pricePerHour:{type:Number,required:!0},packages:{type:[o],default:[]}},{_id:!1});let i=new n.Schema({psTypes:{type:n.Schema.Types.Mixed,required:!0}},{timestamps:!0}),a=s().models.Setting||s().model("Setting",i)}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[948,972],()=>r(2421));module.exports=n})();