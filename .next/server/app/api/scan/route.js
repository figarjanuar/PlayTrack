(()=>{var e={};e.id=130,e.ids=[130],e.modules={399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},8216:e=>{"use strict";e.exports=require("net")},5585:(e,t,r)=>{"use strict";r.r(t),r.d(t,{originalPathname:()=>v,patchFetch:()=>f,requestAsyncStorage:()=>d,routeModule:()=>c,serverHooks:()=>l,staticGenerationAsyncStorage:()=>m});var s={};r.r(s),r.d(s,{GET:()=>p});var o=r(9303),n=r(8716),i=r(670),a=r(7070),u=r(6643);async function p(){try{let e=(await function(e,t=1,r=254){let s=[];for(let o=t;o<=r;o++){let t=`${e}.${o}`;s.push(new Promise(e=>{u.probe(t,5555,(r,s)=>{e(s?t:null)})}))}return Promise.all(s).then(e=>e.filter(Boolean))}("192.168.1")).map(e=>({ip:e,name:"Unknown TV"}));return a.NextResponse.json({devices:e})}catch(e){return console.error("Scan error:",e),a.NextResponse.json({message:"Failed to scan IPs"},{status:500})}}let c=new o.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/scan/route",pathname:"/api/scan",filename:"route",bundlePath:"app/api/scan/route"},resolvedPagePath:"/Users/figar_jr/project/android-tv-timer/app/api/scan/route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:d,staticGenerationAsyncStorage:m,serverHooks:l}=c,v="/api/scan/route";function f(){return(0,i.patchFetch)({serverHooks:l,staticGenerationAsyncStorage:m})}},6643:(e,t,r)=>{var s=r(8216),o=function(e,t){var r=0,o=[];e.address=e.address||"localhost",e.port=e.port||80,e.attempts=e.attempts||10,e.timeout=e.timeout||5e3;var n=function(e,t){if(r<e.attempts)i(e,t);else{var s=o.reduce(function(e,t){return e+t.time},0),n=o.reduce(function(e,t){return e>t.time?e:t.time},o[0].time),a=o.reduce(function(e,t){return e<t.time?e:t.time},o[0].time);s/=o.length,t(void 0,{address:e.address,port:e.port,attempts:e.attempts,avg:s,max:n,min:a,results:o})}},i=function(e,t){var i=new s.Socket,a=process.hrtime();i.connect(e.port,e.address,function(){var s=process.hrtime(a),u=(1e9*s[0]+s[1])/1e6;o.push({seq:r,time:u}),i.destroy(),r++,n(e,t)}),i.on("error",function(s){o.push({seq:r,time:void 0,err:s}),i.destroy(),r++,n(e,t)}),i.setTimeout(e.timeout,function(){o.push({seq:r,time:void 0,err:Error("Request timeout")}),i.destroy(),r++,n(e,t)})};i(e,t)};e.exports.ping=o,e.exports.probe=function(e,t,r){o({address:e=e||"localhost",port:t=t||80,attempts:1,timeout:5e3},function(e,t){r(e,void 0!==t.min)})}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[948,972],()=>r(5585));module.exports=s})();